@page "/"
@using Project_Floptropica.Shared.Services
@inject IFormFactor FormFactor
@inject IJSRuntime JS

<h1>Soundboard</h1>

<div class="soundboard">
    @foreach (var sound in soundFiles)
    {
        <button @onclick="() => PlayAudio(sound.File)">@sound.Name</button>
    }
</div>

@code {
    private List<SoundItem> soundFiles = new();

    protected override async Task OnInitializedAsync()
    {
        soundFiles = await JS.InvokeAsync<List<SoundItem>>("getSoundFiles");
    }

    private async Task PlayAudio(string fileName)
    {
        await JS.InvokeVoidAsync("playAudio", fileName);
    }
    private class SoundItem
    {
        public string Name { get; set; } = "";
        public string File { get; set; } = "";
    }
}
